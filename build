case "$1" in

# Compile and Run
run) ./build build
     RETVAL=$?
     [ $RETVAL -eq 0 ] && ./caves
     ;;
# Compile Sources
build) echo "compile"
       ghc --make *.hs -o caves
       ;;
# Clean and Compile
rebuild) ./build clean
         ./build compile
         ;;
# Clean
clean) echo "clean"
       rm *.o
       rm *.hi
       rm caves
       ;;

*) echo "usage: $0 build/run/rebuild/clean"
   ;;
esac